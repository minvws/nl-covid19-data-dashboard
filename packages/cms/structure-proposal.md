# Timeline and Chart Structures

## Globally Unique Identifier

In order to connect chart instances to data in the cms we could identify each
unique instance by defining the following elements:

1. scope (nl,vr,gm,eu)
2. metric name (sewer)
3. component type (time-series)
4. (optional) metric property

This combination of elements should be sufficient to generate a globally unique
id for each data visualization on the dashboard. It makes a direct coupling to
our data structures, making it convenient to fetch additional data from other
configurations like threshold data.

Basing objects on these properties would allow us to start building a collection
of sortable / searchable objects without having a pre-defined page structure in
the CMS.

We can store these objects under an opaque id generated by Sanity, but adding
new objects should be tightly controlled, by checking on all elements so that we
never add two of the same. Also the properties that make up the "identifier"
should not be editable in the CMS afterwards.

Alternatively we could combine the id elements into a string and use that as the
document id, but I don't see a good reason to do this as we need to control
adding new elements anyway.

Element 4 is not usually required but for example in some cases we are showing
multiple maps next to each other based on properties from the same data source /
metric name like behavior. In these cases it might be required to have this
fourth element to construct a globally unique id.

If the elements would be serialized into an identifier string it could look
like:

`vr_sewer_timeSeries`

Additionally if we want to be able to define objects for specific VR and GM
codes, we would append them in the scope string:

`vr09_sewer_timeSeries`

Another example for an id that is using a specific property

`nl_behavior_map_`

Possibly we'll also need a separate scope for "actueel", but if not we could
treat the elements on as scope "nl".

## Component Types

For element 3 we can define a fixed set of types loosely based off the names of our
components:

- kpi
- timeSeries
- miniTrend
- map (choropleth)
- table

Each component type will have its own schema which defines other properties that
can be set in the CMS specific for that type. We can start with just allowing
time-series and have only their timeline data configured, but then we can move
on to add things like title, description, metadata etc.

These properties are pretty stable nowadays, and any configuration
